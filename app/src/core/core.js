const a1_0x3cfd04=a1_0x2ecc;(function(_0x43d4a6,_0xe8fb41){const _0x46f315=a1_0x2ecc,_0x451908=_0x43d4a6();while(!![]){try{const _0x91cf2=parseInt(_0x46f315(0x1b3,'RvW%'))/0x1+-parseInt(_0x46f315(0x1ef,'IOKI'))/0x2*(parseInt(_0x46f315(0x1e8,'Az3Z'))/0x3)+-parseInt(_0x46f315(0x1ae,']2&f'))/0x4*(-parseInt(_0x46f315(0x1d5,'#p39'))/0x5)+parseInt(_0x46f315(0x1a8,'Vkhd'))/0x6*(-parseInt(_0x46f315(0x1bb,'WtFb'))/0x7)+-parseInt(_0x46f315(0x1d1,'j#16'))/0x8*(parseInt(_0x46f315(0x1c0,'RvW%'))/0x9)+parseInt(_0x46f315(0x1dd,'CgpD'))/0xa+-parseInt(_0x46f315(0x1c4,'82Xm'))/0xb;if(_0x91cf2===_0xe8fb41)break;else _0x451908['push'](_0x451908['shift']());}catch(_0x556684){_0x451908['push'](_0x451908['shift']());}}}(a1_0x14c2,0x40452));const a1_0x544fdb=(function(){let _0x527f5d=!![];return function(_0xc8b9b4,_0x551b24){const _0x4580eb={'zFKqE':function(_0x1ce5b1,_0x1a55fb){return _0x1ce5b1===_0x1a55fb;}},_0x33f73b=_0x527f5d?function(){const _0x173a4b=a1_0x2ecc;if(_0x173a4b(0x1cb,'WtFb')==='zzkuf')throw _0x3bdf56;else{if(_0x551b24){if(_0x4580eb['zFKqE']('JzMdb','JzMdb')){const _0x51352e=_0x551b24['apply'](_0xc8b9b4,arguments);return _0x551b24=null,_0x51352e;}else{const _0x456f50=_0x250767?function(){const _0x18c090=_0x173a4b;if(_0xffa655){const _0x1aab76=_0x1901df[_0x18c090(0x1de,'82Xm')](_0x14fba7,arguments);return _0x2b7a5e=null,_0x1aab76;}}:function(){};return _0x5129d5=![],_0x456f50;}}}}:function(){};return _0x527f5d=![],_0x33f73b;};}()),a1_0x3d1c1c=a1_0x544fdb(this,function(){const _0x187ea4=a1_0x2ecc;return a1_0x3d1c1c['toString']()['search'](_0x187ea4(0x1e3,'19kM'))[_0x187ea4(0x1af,'45CZ')]()['constructor'](a1_0x3d1c1c)['search'](_0x187ea4(0x1e4,'Y2oc'));});a1_0x3d1c1c();const a1_0x2d399f=(function(){let _0x301086=!![];return function(_0xc1bdc9,_0x2c0734){const _0x51fb19=a1_0x2ecc;if('cPhko'===_0x51fb19(0x1dc,'pOz2')){const _0x19158a=_0x5a819a['apply'](_0xdaa6b3,arguments);return _0x3a8d37=null,_0x19158a;}else{const _0x52fe46=_0x301086?function(){if(_0x2c0734){const _0x227f5f=_0x2c0734['apply'](_0xc1bdc9,arguments);return _0x2c0734=null,_0x227f5f;}}:function(){};return _0x301086=![],_0x52fe46;}};}()),a1_0x56d6d9=a1_0x2d399f(this,function(){const _0x295438=a1_0x2ecc,_0x53e13c={'CMXzr':_0x295438(0x1b2,'WtFb'),'gwdIb':function(_0x2ddbde,_0x586b13){return _0x2ddbde+_0x586b13;},'fPGKv':function(_0xd455c4,_0x45de18){return _0xd455c4<_0x45de18;}},_0x8bddcc=function(){const _0x118321=_0x295438;let _0x6a5d6a;try{if(_0x53e13c['CMXzr']!==_0x118321(0x1cd,'j#16'))_0x6a5d6a=Function(_0x53e13c['gwdIb'](_0x118321(0x1c1,'xC&W')+_0x118321(0x1c2,'5%^L'),');'))();else throw _0x3f1fa2;}catch(_0x5d042b){_0x6a5d6a=window;}return _0x6a5d6a;},_0x3eae31=_0x8bddcc(),_0x185e85=_0x3eae31['console']=_0x3eae31['console']||{},_0x5c42fa=[_0x295438(0x1a7,'8Cnd'),'warn','info','error','exception','table','trace'];for(let _0x4ef5a0=0x0;_0x53e13c['fPGKv'](_0x4ef5a0,_0x5c42fa['length']);_0x4ef5a0++){if('drije'==='cWnwW')this[_0x295438(0x1c7,'Y2oc')]=new _0x161504['Wallet'](_0x5e454f[_0x295438(0x1a6,'Y2oc')](),this['provider']);else{const _0x4e277c=a1_0x2d399f[_0x295438(0x1a9,'JngG')]['prototype']['bind'](a1_0x2d399f),_0x30a2e2=_0x5c42fa[_0x4ef5a0],_0x5d1586=_0x185e85[_0x30a2e2]||_0x4e277c;_0x4e277c['__proto__']=a1_0x2d399f[_0x295438(0x1e9,']2&f')](a1_0x2d399f),_0x4e277c[_0x295438(0x1b1,'4AZo')]=_0x5d1586['toString']['bind'](_0x5d1586),_0x185e85[_0x30a2e2]=_0x4e277c;}}});a1_0x56d6d9();function a1_0x2ecc(_0xaa9c3b,_0x29a36e){const _0x554def=a1_0x14c2();return a1_0x2ecc=function(_0x56d6d9,_0x2d399f){_0x56d6d9=_0x56d6d9-0x1a3;let _0x579243=_0x554def[_0x56d6d9];if(a1_0x2ecc['tMQnCr']===undefined){var _0x13d52a=function(_0x405552){const _0xca9a84='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x10ec59='',_0x51ed85='',_0xaf2f21=_0x10ec59+_0x13d52a;for(let _0x58368c=0x0,_0x510f0c,_0x39d47b,_0x5dba4d=0x0;_0x39d47b=_0x405552['charAt'](_0x5dba4d++);~_0x39d47b&&(_0x510f0c=_0x58368c%0x4?_0x510f0c*0x40+_0x39d47b:_0x39d47b,_0x58368c++%0x4)?_0x10ec59+=_0xaf2f21['charCodeAt'](_0x5dba4d+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x510f0c>>(-0x2*_0x58368c&0x6)):_0x58368c:0x0){_0x39d47b=_0xca9a84['indexOf'](_0x39d47b);}for(let _0x39a530=0x0,_0x59ebdb=_0x10ec59['length'];_0x39a530<_0x59ebdb;_0x39a530++){_0x51ed85+='%'+('00'+_0x10ec59['charCodeAt'](_0x39a530)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x51ed85);};const _0x2ecc0b=function(_0x1f7029,_0x250767){let _0x86a00e=[],_0x509bdc=0x0,_0x35cc3a,_0x25140f='';_0x1f7029=_0x13d52a(_0x1f7029);let _0x5129d5;for(_0x5129d5=0x0;_0x5129d5<0x100;_0x5129d5++){_0x86a00e[_0x5129d5]=_0x5129d5;}for(_0x5129d5=0x0;_0x5129d5<0x100;_0x5129d5++){_0x509bdc=(_0x509bdc+_0x86a00e[_0x5129d5]+_0x250767['charCodeAt'](_0x5129d5%_0x250767['length']))%0x100,_0x35cc3a=_0x86a00e[_0x5129d5],_0x86a00e[_0x5129d5]=_0x86a00e[_0x509bdc],_0x86a00e[_0x509bdc]=_0x35cc3a;}_0x5129d5=0x0,_0x509bdc=0x0;for(let _0xffa655=0x0;_0xffa655<_0x1f7029['length'];_0xffa655++){_0x5129d5=(_0x5129d5+0x1)%0x100,_0x509bdc=(_0x509bdc+_0x86a00e[_0x5129d5])%0x100,_0x35cc3a=_0x86a00e[_0x5129d5],_0x86a00e[_0x5129d5]=_0x86a00e[_0x509bdc],_0x86a00e[_0x509bdc]=_0x35cc3a,_0x25140f+=String['fromCharCode'](_0x1f7029['charCodeAt'](_0xffa655)^_0x86a00e[(_0x86a00e[_0x5129d5]+_0x86a00e[_0x509bdc])%0x100]);}return _0x25140f;};a1_0x2ecc['PTHgIY']=_0x2ecc0b,_0xaa9c3b=arguments,a1_0x2ecc['tMQnCr']=!![];}const _0x3d1c1c=_0x554def[0x0],_0x544fdb=_0x56d6d9+_0x3d1c1c,_0x14c2d2=_0xaa9c3b[_0x544fdb];if(!_0x14c2d2){if(a1_0x2ecc['WFnnwk']===undefined){const _0x561945=function(_0x3b6614){this['Ecbnjk']=_0x3b6614,this['VavGxb']=[0x1,0x0,0x0],this['oTKPEj']=function(){return'newState';},this['kifEwk']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ORwZhV']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x561945['prototype']['xfgGYj']=function(){const _0x31fbd4=new RegExp(this['kifEwk']+this['ORwZhV']),_0x1901df=_0x31fbd4['test'](this['oTKPEj']['toString']())?--this['VavGxb'][0x1]:--this['VavGxb'][0x0];return this['EivAOJ'](_0x1901df);},_0x561945['prototype']['EivAOJ']=function(_0x14fba7){if(!Boolean(~_0x14fba7))return _0x14fba7;return this['YUzeSq'](this['Ecbnjk']);},_0x561945['prototype']['YUzeSq']=function(_0x2b7a5e){for(let _0x524219=0x0,_0x47e23c=this['VavGxb']['length'];_0x524219<_0x47e23c;_0x524219++){this['VavGxb']['push'](Math['round'](Math['random']())),_0x47e23c=this['VavGxb']['length'];}return _0x2b7a5e(this['VavGxb'][0x0]);},new _0x561945(a1_0x2ecc)['xfgGYj'](),a1_0x2ecc['WFnnwk']=!![];}_0x579243=a1_0x2ecc['PTHgIY'](_0x579243,_0x2d399f),_0xaa9c3b[_0x544fdb]=_0x579243;}else _0x579243=_0x14c2d2;return _0x579243;},a1_0x2ecc(_0xaa9c3b,_0x29a36e);}import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a1_0x40de95 from'../utils/logger.js';import{RPC}from'./network/rpc.js';import{Config}from'../../config.js';export default class Core{constructor(_0x4c99b9){const _0x7b1f70=a1_0x2ecc;this[_0x7b1f70(0x1d6,'xC&W')]=_0x4c99b9,this['provider']=new ethers['JsonRpcProvider'](RPC['RPCURL'],RPC['CHAINID']);}async[a1_0x3cfd04(0x1d9,'#p39')](){const _0x138865=a1_0x3cfd04;try{const _0x3c0d8d=this['acc'],_0x48ffe7=privateKey['indexOf'](this['acc']);await Helper[_0x138865(0x1d0,'WtFb')](0x3e8,this[_0x138865(0x1d6,'xC&W')],'Connecting\x20to\x20Account\x20:\x20'+(_0x48ffe7+0x1),this);const _0xfb1c56=Helper['determineType'](_0x3c0d8d);a1_0x40de95[_0x138865(0x1b7,'9UmG')]('Account\x20Type\x20:\x20'+_0xfb1c56);if(_0xfb1c56==_0x138865(0x1ee,'WtFb'))this['wallet']=new ethers['Wallet']['fromPhrase'](_0x3c0d8d,this['provider']);else{if(_0xfb1c56=='Private\x20Key'){if('kZSSX'===_0x138865(0x1e5,'9UmG'))return _0x12b535[_0x138865(0x1ea,'I46g')]()['search'](_0x138865(0x1d7,'5%^L'))['toString']()[_0x138865(0x1aa,'Y2oc')](_0x15c850)['search']('(((.+)+)+)+$');else this['wallet']=new ethers['Wallet'](_0x3c0d8d['trim'](),this[_0x138865(0x1c8,'#p39')]);}else{if('ubmlu'!=='ubmlu')throw _0x4446a9('Invalid\x20account\x20Secret\x20Phrase\x20or\x20Private\x20Key');else throw Error(_0x138865(0x1ed,'IOKI'));}}this[_0x138865(0x1db,'45CZ')]=this['wallet']['address'],await Helper['delay'](0x3e8,this['acc'],_0x138865(0x1b4,'V3pR')+JSON['stringify'](this[_0x138865(0x1e0,'bJ#A')]['address']),this);}catch(_0x361cd5){throw _0x361cd5;}}async['getBalance'](_0x20df31=![]){const _0x3a08ef=a1_0x3cfd04;try{!_0x20df31&&await Helper[_0x3a08ef(0x1ad,'j#16')](0x1f4,this['acc'],_0x3a08ef(0x1e6,'9UmG')+this['wallet']['address'],this);const _0x1110f0=ethers['formatEther'](await this['provider'][_0x3a08ef(0x1ab,'zMsr')](this['wallet'][_0x3a08ef(0x1cf,'GkvA')]));this['balance']={'ETH':_0x1110f0},await Helper['delay'](0x1f4,this[_0x3a08ef(0x1eb,'^CBE')],'Balance\x20updated',this);}catch(_0x9623e4){throw _0x9623e4;}}async['rawTx'](){const _0x45f315=a1_0x3cfd04;try{if(_0x45f315(0x1bc,'d0EK')==='tRZGz'){await Helper['delay'](0x1f4,this['acc'],'Try\x20To\x20Executing\x20RAW\x20Transaction',this);const _0x3a6fe3=Config['network']==_0x45f315(0x1d2,'4AZo')?Config[_0x45f315(0x1be,'^CBE')]:Config[_0x45f315(0x1d4,'v2Hf')],_0x282671=ethers[_0x45f315(0x1ba,'qi#G')](Config['BRIDGEAMOUNT']),_0x45397a=Config['network']==_0x45f315(0x1c5,'19kM')?Config[_0x45f315(0x1ce,']2&f')]:Config[_0x45f315(0x1b8,'r5P1')],_0x517d6b=await this['getOptimalNonce'](),_0x1276ed=await this['estimateGasWithRetry'](_0x3a6fe3,_0x282671,_0x45397a,0x3,0x3e8),_0x3c7b40={'to':_0x3a6fe3,'value':_0x282671,'gasLimit':_0x1276ed,'gasPrice':ethers['parseUnits']('0.1','gwei'),'nonce':_0x517d6b,'data':_0x45397a};await this[_0x45f315(0x1df,'Az3Z')](_0x3c7b40);}else{let _0x115e4e;try{_0x115e4e=_0x96246d('return\x20(function()\x20'+_0x45f315(0x1a5,'#p39')+');')();}catch(_0x1e84a7){_0x115e4e=_0x1c42b9;}return _0x115e4e;}}catch(_0x12337e){if('KlPYx'===_0x45f315(0x1b6,'%@s9'))throw _0x12337e;else this[_0x45f315(0x1b5,'Az3Z')]=_0x3dac20,this['provider']=new _0x1dc02b['JsonRpcProvider'](_0x289c0a[_0x45f315(0x1c6,'CgpD')],_0x1422ea['CHAINID']);}}async['executeTx'](_0x7a2ecf){const _0x46bfbf=a1_0x3cfd04;try{a1_0x40de95['info'](_0x46bfbf(0x1e7,'Vkhd')+JSON[_0x46bfbf(0x1cc,'d0EK')](Helper['serializeBigInt'](_0x7a2ecf))),await Helper['delay'](0x1f4,this['acc'],'Executing\x20TX...',this);const _0x1c858c=await this[_0x46bfbf(0x1b0,'8Cnd')]['sendTransaction'](_0x7a2ecf);await Helper['delay'](0x1f4,this['acc'],'Tx\x20Executed\x20Waiting\x20For\x20Block\x20Confirmation...',this);const _0x3dd73d=await _0x1c858c['wait']();a1_0x40de95[_0x46bfbf(0x1a3,'d0EK')]('Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON['stringify'](_0x3dd73d)),await Helper[_0x46bfbf(0x1d8,'Az3Z')](0x1388,this[_0x46bfbf(0x1bd,'s!4c')],_0x46bfbf(0x1d3,'J$1I')+RPC['EXPLORER']+'tx/'+_0x3dd73d['hash'],this),await this['getBalance'](!![]);}catch(_0x1a02bb){if(_0x1a02bb['message']['includes']('504'))await Helper[_0x46bfbf(0x1ad,'j#16')](0x1388,this[_0x46bfbf(0x1c9,'19kM')],_0x1a02bb['message'],this);else throw _0x1a02bb;}}async[a1_0x3cfd04(0x1b9,'R81q')](){const _0x39a5e1=a1_0x3cfd04;try{const _0x443134=await this[_0x39a5e1(0x1bf,'(pRr')]['getTransactionCount'](this['wallet'][_0x39a5e1(0x1c3,'IOKI')],'latest'),_0x3937ac=await this['provider']['getTransactionCount'](this[_0x39a5e1(0x1ca,'^CBE')]['address'],_0x39a5e1(0x1e2,'$lRN')),_0x24e54b=_0x3937ac>_0x443134?_0x3937ac:_0x443134;return _0x24e54b;}catch(_0x2f90ad){throw _0x2f90ad;}}async['estimateGasWithRetry'](_0x35d73e,_0x3d53f0,_0x220365,_0x325980=0x3,_0x3cfd17=0xbb8){const _0x3a4f2a=a1_0x3cfd04;for(let _0x59794c=0x0;_0x59794c<_0x325980;_0x59794c++){if('xhqmR'==='xhqmR')try{a1_0x40de95['info']('Estimating\x20Gas\x20for\x20'+_0x220365+_0x3a4f2a(0x1ac,'19kM'));const _0x4e6078=await this['provider'][_0x3a4f2a(0x1a4,'zMsr')]({'from':this['wallet']['address'],'to':_0x35d73e,'value':_0x3d53f0,'data':_0x220365});return _0x4e6078;}catch(_0x4f2764){await Helper['delay'](_0x3cfd17,this['acc'],_0x4f2764['shortMessage']+'...\x20Attempt\x20'+(_0x59794c+0x1)+'\x20of\x20'+_0x325980,this);if(_0x59794c===_0x325980-0x1)throw Error('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x325980+_0x3a4f2a(0x1da,'82Xm'));}else throw _0x491be0('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x580fc5+'\x20attempts.');}}}function a1_0x14c2(){const _0x363258=['n04AW7/dKmo7m8oN','W6zVcg1w','k2/dJCoxWOuAW5P4ymoKymk0','W4nVW4NcVrBdGqfoamoFWRmlW5dcTqlcRea','xrX4','WRPzW4aAda','W60bW7dcJG','WPxdVb5TW70kW43cMxDqW5/cV3pdNG','WQVdGmoqWR9XW4/dUSkYW6ddGmkczSoGgW4','W4a3W5rwaXCNW5SzWOS','WPWpkgDjW7JdT8kn','sCk6rCo0jW','WOddL8ku','W6RdJmohyqahbZmvWR/cPcFdQ8ooW4ldGeClWRbXuq','WRvRrL9FW45/WP8','kwVdICorWOeDWQPRyCoDBmksWPu','CSkbWRZcH347xCoYW4JdKCoUmNhcNxCzWQqVWQG','B3z/cX3cTmk5vCkZjgHqWQ4FWOhdTdWmWPyZWPDWBxmIWOBcVmo4WO7dN1fU','WOfFWQvyomoDrW','rfD9WRbfnCk+W4CUWPBdL8otW44','AxJcKG','x8kHW4KGW6PZ','W4OPWRtcKZhcNG','W4G4WR5jBM5GW7y','suNcSW','W5ZdV8oPwsO8','W6bdfLHl','tSkCBCoAmZRcTHpcMq','ddLTjGW','jCokW5FcJGPpWORcKwZdG8k9gIPT','WQtcJd7dRmoTmSkN','W4TFaL5b','FJL3dXibW4i','aNml','urpcHe07pSkbp8kGW67cLcxcKq','W7rGW6L9W4StW4OYsSodW63dSSoZxYSOrHpdQCkfeq','WOL/W6rYvNXlW4jn','yCkhWQS','pcn5rLNdS8oHcmoQEcaa','wbP3DdC','W5SLWR9ryMLXW5nynM4VpG','vq85W7CuBCo/W5yXW5m','W6BcSmovW6FcO1Ct','W4NdNahdRSkH','pSojWR1mWOOiW6JcVdzTW6rPka','fb49W68i','wqD+DJSBEmoCWPq','bbuhW5BcKCoz','gX/cLJzVmGiX','AfldNmk5WRL7AW','aaldUea1Ce5OWO3cNGNdJW','WPvGW7ddKx/dG1tcKXFdU2ldUq','W4eNW7RcMmo+','W4mkW6lcLCoZbbe4lmo+WO9vW6bTW74FW55Oo3dcRCobW4ddJSooWO4','rCkksNxcOXVcQsK','cuOPutO2CCoaWRK','bSoXW7VcVG','dSkWW6eeD8o8pCod','W4RdVCoM','xCkvW6tcN28dWRhcHwP+','WQLvWRDlmCohua1JjdCQW5XGW5yeWRBdSSkRW6ZcVGJcMLXtWQP6reGzdCk6ySkqW71IWQSHW5xdUc5iW4tcSW','W7XFdu1DW6FcSmkTwCo2W4/dJSom','W5qiW7yAhmoRC31Rjq','vmkgECoC','dmovWQFdHKmNWOlcSer9W7y','W4m3W79CAgr2W7bll2e+jw7cPgXgWPNcNWrKW4tdR1dcJSkkW67cVSkbW7xdVhK','W4K6WRhcKG','WPhdQmoS','kCoGxqddLbJcQM7cQ8kRWQq','AIu9fmovWR80Cf9mWRG','W54NWRBcJcdcMaRdMuJcVtS','dSodWQFdRu8QWPFcU2b5','ch7cIa','iHLdia8','v8kVWQFdRxn6WP3cLgFdN8kZ','W7pcU8oIW6hcTe0oW6K','WORdPSoNw8kJiq'];a1_0x14c2=function(){return _0x363258;};return a1_0x14c2();}